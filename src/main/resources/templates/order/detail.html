<!doctype html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" th:replace="~{/layout/index::dynamic(~{::#main})}">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Bootstrap demo</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx" crossorigin="anonymous">
</head>
<body>
<div class="container">
  <div id="main">
    <div th:replace="~{/layout/_menu::hero-normal-section}"></div>
    <!-- Breadcrumb Section Begin -->
    <section class="container breadcrumb-section set-bg p-3" style="background-color: #9BCA3C;">
      <div class="container">
        <div class="row">
          <div class="col-lg-12 text-center">
            <div class="breadcrumb__text" style="font-size: 20px;">
              <a th:href="@{/home/index}"><i class="fa fa-home" aria-hidden="true"></i>[[#{checkoutd.order}]]</a>
              <i class="fa fa-chevron-right" aria-hidden="true"></i>
              <span>[[#{checkoutd.list}]]</span>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!--    list order-->
    <style>
      .card{z-index: 0;background-color: #ECEFF1;padding-bottom: 20px;margin-bottom: 90px;border-radius: 10px}.top{padding-top: 40px;padding-left: 13% !important;padding-right: 13% !important}#progressbar{margin-bottom: 30px;overflow: hidden;color: #455A64;padding-left: 0px;margin-top: 30px}#progressbar li{list-style-type: none;font-size: 13px;width: 20%;float: left;position: relative;font-weight: 400}#progressbar .step0:before{font-family: FontAwesome;content: "\f10c";color: #fff}#progressbar li:before{width: 40px;height: 40px;line-height: 45px;display: block;font-size: 20px;background: #C5CAE9;border-radius: 50%;margin: auto;padding: 0px}#progressbar li:after{content: '';width: 100%;height: 12px;background: #C5CAE9;position: absolute;left: 0;top: 16px;z-index: -1}#progressbar li:last-child:after{border-top-right-radius: 10px;border-bottom-right-radius: 10px;position: absolute;left: -50%}#progressbar li:nth-child(2):after, #progressbar li:nth-child(3):after , #progressbar li:nth-child(4):after{left: -50%}#progressbar li:first-child:after{border-top-left-radius: 10px;border-bottom-left-radius: 10px;position: absolute;left: 50%}#progressbar li:last-child:after{border-top-right-radius: 10px;border-bottom-right-radius: 10px}#progressbar li:first-child:after{border-top-left-radius: 10px;border-bottom-left-radius: 10px}#progressbar li.active:before, #progressbar li.active:after{background: #9BCA3C}#progressbar li.active:before{font-family: FontAwesome;content: "\f00c"}.icon{width: 60px;height: 60px;margin-right: 15px}.icon-content{padding-bottom: 20px}@media screen and (max-width: 992px){.icon-content{width: 50%}}
    </style>
    <div class=" container-fluid my-5 ">
      <div class="row justify-content-center ">
        <div class="container px-1 px-md-4 mx-auto">
          <div class="card">
            <div class="row d-flex justify-content-between px-3 top">
              <div class="info">
                <h5 class="d-block">[[#{checkoutd.orderB}]]: <span class="text-primary font-weight-bold">#[[${order.id}]]</span></h5>
                <h5 class="d-block">
                  [[#{checkoutd.status}]]:
                  <span th:if="${order.status == 1}" class="text-primary font-weight-bold">[[#{checkoutd.processed}]]</span>
                  <span th:if="${order.status == 2}" class="text-primary font-weight-bold">[[#{checkoutd.odreceived}]]</span>
                  <span th:if="${order.status == 3}" class="text-primary font-weight-bold">[[#{checkoutd.shipping}]]</span>
                  <span th:if="${order.status == 4}" class="text-primary font-weight-bold">[[#{checkoutd.odshipped}]]</span>
                  <span th:if="${order.status == 5}" class="text-primary font-weight-bold">[[#{checkoutd.fod}]]</span>
                  <span th:if="${order.status == 0}" class="text-danger font-weight-bold">[[#{checkoutd.odcancel}]]</span>
                </h5>
              </div>
              <div class="d-flex flex-column text-sm-right">
                <p class="mb-0">
                  [[#{checkoutd.exp}]]:
                  <span class="font-italic">
                    <script th:inline="javascript">
                      var date = /*[[${order.shippedDate}]]*/ '${order.shippedDate}';
                      document.write(moment(date).fromNow());
                    </script>
                  </span>
                </p>
                <p class="mb-0">
                  [[#{checkoutd.date}]]:
                  <span class="font-italic">
                    <script th:inline="javascript">
                      var date = /*[[${order.orderDate}]]*/ '${order.orderDate}';
                      document.write(moment(date).fromNow());
                    </script>
                  </span>
                </p>
              </div>
            </div> <!-- Add class 'active' to progress -->
            <div class="row d-flex justify-content-center">
              <div class="col-12">
                <ul id="progressbar" class="text-center">
                  <li th:class="${order.status >= 1 ? 'active step0':'step0'}"></li>
                  <li th:class="${order.status >= 2 ? 'active step0':'step0'}"></li>
                  <li th:class="${order.status >= 3 ? 'active step0':'step0'}"></li>
                  <li th:class="${order.status >= 4 ? 'active step0':'step0'}"></li>
                  <li th:class="${order.status >= 5 ? 'active step0':'step0'}"></li>

                </ul>
              </div>
            </div>
            <div class="row justify-content-between top">
              <div class="row d-flex icon-content"> <img class="icon" src="https://i.imgur.com/9nnc9Et.png">
                <div class="d-flex flex-column">
                  <p class="font-weight-bold">[[#{checkoutd.order}]]<br>[[#{checkoutd.processed}]]</p>
                </div>
              </div>
              <div class="row d-flex icon-content"> <img class="icon" src="https://i.imgur.com/GiWFtVu.png">
                <div class="d-flex flex-column">
                  <p class="font-weight-bold">[[#{checkoutd.order}]]<br>[[#{checkoutd.designing}]]</p>
                </div>
              </div>
              <div class="row d-flex icon-content"> <img class="icon" src="https://i.imgur.com/u1AzR7w.png">
                <div class="d-flex flex-column">
                  <p class="font-weight-bold">[[#{checkoutd.order}]]<br>[[#{checkoutd.shipped}]]</p>
                </div>
              </div>
              <div class="row d-flex icon-content"> <img class="icon" src="https://i.imgur.com/TkPm63y.png">
                <div class="d-flex flex-column">
                  <p class="font-weight-bold">[[#{checkoutd.order}]]<br>[[#{checkoutd.en}]]</p>
                </div>
              </div>
              <div class="row d-flex icon-content"> <img class="icon" src="https://i.imgur.com/HdsziHP.png">
                <div class="d-flex flex-column">
                  <p class="font-weight-bold">[[#{checkoutd.order}]]<br>[[#{checkoutd.arrived}]]</p>
                </div>
              </div>
            </div>
          </div>
          <div class="card">
            <div class="row d-flex justify-content-between px-3 top">
              <div class="d-flex">
                <div class="border-right pr-5">
                  <p class="card-text text-muted">
                    <i class="fa fa-map-marker" aria-hidden="true"></i> [[#{checkoutd.address}]]
                  </p>
                  <hr class="my-0">
                  <b class="d-block mt-2">[[${address.username}]]</b>
                  <b class="d-block">[[${address.phone}]]</b>
                  <p class="my-2">[[${address.address}]]</p>
                  <div class="d-flex"></div>
                  <p class="d-block">[[${address.cityProvince}]]</p>
                </div>
                <div class="pl-5">
                  <p class="card-text text-muted">
                    [[#{checkoutd.unit}]]
                  </p>
                  <hr class="my-0">

                  <b class="d-block mt-2">[[#{checkoutd.inter}]]</b>
                  <p class="mb-0">[[#{checkoutd.standard}]]</p>
                  <p>[[#{checkoutd.receive}]]</p>
                </div>
              </div>
            </div>
            <div class="row d-flex justify-content-between px-3 top ">
              <div class="col-lg-12">
                <div th:each="item : ${orderDetails}" class="row px-2 py-3 border-top my-3">
                  <div class="col-2">
                    <img th:src="@{|${item.food.imageFoods.get(0).imageName}|}" alt="image">
                  </div>
                  <div class="col-10">
                    <b class="d-block" th:text="${item.food.name}"></b>
                    <div class="d-flex justify-content-between">
                      <span>x[[${item.quantity}]]</span>
                      <div class="d-inline">
                        <span class="text-muted" style="text-decoration:line-through">đ [[${#numbers.formatDecimal(item.oldPrice, 0, 'COMMA', 2, 'POINT')}]]</span>
                        <span class="text-danger">đ [[${#numbers.formatDecimal(item.newPrice, 0, 'COMMA', 2, 'POINT')}]]</span>
                      </div>
                    </div>
                  </div>
                </div>
                <table class="table">
                  <tbody>
                  <tr class="text-right">
                    <td class="w-75">[[#{checkoutd.price}]]</td>
                    <td class="w-25">đ [[${#numbers.formatDecimal(amount, 0, 'COMMA', 2, 'POINT')}]]</td>
                  </tr>
                  <tr class="text-right" th:if="${amount > 50000}">
                    <td class="w-75">[[#{checkoutd.shipping}]]</td>
                    <td class="w-25">đ 0</td>
                  </tr>
                  <tr class="text-right" th:if="${amount < 50000}">
                    <td class="w-75">[[#{checkoutd.shipping}]]</td>
                    <td class="w-25">đ 15000</td>
                  </tr>
                  <tr class="text-right" th:if="${coupon.id != 1}">
                    <td class="w-75">[[#{checkoutd.coupon}]]</td>
                    <td class="w-25 text-uppercase" th:text="${coupon.name}"></td>
                  </tr>
                  <tr class="text-right">
                    <td class="w-75">[[#{checkoutd.price}]]</td>
                    <td class="w-25"><h4 class="text-danger">đ [[${#numbers.formatDecimal(order.price, 0, 'COMMA', 2, 'POINT')}]]</h4></td>
                  </tr>
                  <tr class="text-right" th:if="${order.paymentmethod.id == 1}">
                    <td class="w-75"><i class="fa fa-money" aria-hidden="true"></i> [[#{checkoutd.pM}]]</td>
                    <td class="w-25">[[#{checkoutd.pD}]]</td>
                  </tr>
                  <tr class="text-right" th:if="${order.paymentmethod.id == 2}">
                    <td class="w-75"><i class="fa fa-money" aria-hidden="true"></i> [[#{checkoutd.pM}]]</td>
                    <td class="w-25">[[#{checkoutd.pP}]]</td>
                  </tr>
                  </tbody>
                </table>
                <div class="mt-4 text-right">
                  <button th:attr="ng-click=@{|cancelOrder(${order.id})|}" th:unless="${order.status >=4 || order.status == 0}" class="btn btn-outline-danger px-4-py-2"><i class="fa fa-ban" aria-hidden="true"></i> [[#{checkoutd.cancel}]]</button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- Notification -->
    <div class="position-fixed bottom-0 right-0 p-3" style="z-index: 5; right: 0; bottom: 0;">
      <div id="liveToast" class="toast hide" role="alert" aria-live="assertive" aria-atomic="true" data-delay="5000">
        <div class="toast-header">
          <img src="/assets/images/logo.png" class="rounded mr-2" alt="logo" width="30%">
          <strong class="mr-auto">[[#{noti.notification}]] SUNFOOD</strong>
          <button type="button" class="ml-2 mb-1 close" data-dismiss="toast" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="toast-body">
          <div class="alert alert-success" role="alert" ng-if="message != ''">
            {{message}}
          </div>
          <div class="alert alert-danger" role="alert" ng-if="error != ''">
            {{error}}
          </div>
        </div>
      </div>
    </div>

  </div>
</div>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-A3rJD856KowSb7dwlZdYEkO39Gagi7vIsF0jrRAoQmDKKtQBHUuLZ9AsSv4jD4Xa"
        crossorigin="anonymous"></script>
</body>
</html>
