<!doctype html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" th:replace="~{/layout/index::dynamic(~{::#main})}">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Bootstrap demo</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx" crossorigin="anonymous">
</head>
<body>
<div id="main">
  <div th:replace="~{/layout/_menu::hero-normal-section}"></div>
  <!-- Breadcrumb Section Begin -->
  <section class="breadcrumb-section set-bg p-3" style="background-color: #9BCA3C;">
    <div class="container">
      <div class="row">
        <div class="col-lg-12 text-center">
          <div class="breadcrumb__text" style="font-size: 20px;">
            <a th:href="@{/home/index}"><i class="fa fa-home" aria-hidden="true"></i> [[#{profile.home}]]</a>
            <i class="fa fa-chevron-right" aria-hidden="true"></i>
            <span>[[#{profile.profile}]]</span>
          </div>
        </div>
      </div>
    </div>
  </section>
  <!-- Breadcrumb Section End -->

  <!-- Contact Form Begin -->
  <div class="contact-form spad">
    <div class="container">
      <div class="row">
        <div class="col-lg-12">
          <div class="contact__form__title">
            <h2>[[#{profile.info}]]</h2>
          </div>
        </div>
      </div>
      
      <!-- Shop Start -->
        <div class="container-fluid">
            <div class="row px-xl-5">
                <div class="col-md-3">
                    <div class="card mb-4">
                        <div class="card-body p-0">
                            <div class="row ">
                                <div class="col-md-12">
                                    <div class="list-group list-group-flush account-settings-links">
                                        <a th:class="|list-group-item list-group-item-action ${accPage}|"
                                            th:href="@{/customer/profile/account}">[[#{profile.info}]]</a>
                                        <a th:class="|list-group-item list-group-item-action ${addressPage}|"
                                            th:href="@{/customer/profile/address}">[[#{profile.setAddress}]]</a>
                                        </div>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>
                <div class="col-md-9">
                    <div class="tab-content position-relative">
                        <div th:class="|tab-pane fade ${accPage} show|" id="account-general">
                            <div class="card">
                                <div class="card-body ">
                                    <div class="row ">
                                        <div class="col-12">
                                            <b>[[#{profile.info}]] </b>
                                            <h6>[[#{profile.infoC}]]</h6>
                                            <hr>
                                        </div>
                                    </div>
                                    <div class="row d-flex flex-row-reverse">
                                        <div class="col-md-5 col-12">
                                            <div class="mb-3 d-flex justify-content-center">
                                                <img ng-src="{{customer.avatar}}" class="rounded-circle" />
<!--                                                 <img ng-src="{{img}}" class="rounded-circle" /> -->
                                            </div>
                                            <div class="mb-3 d-flex justify-content-center">
                                                <input type="file" ng-model-instant onchange="angular.element(this).scope().imageUpload(event)">
                                            </div>
                                        </div>
                                        <div class="col-md-7 col-12">
                                        	<form>
                                                <div class="row spell">
                                                    <div class="form-group col-md-6">
                                                        <label for="lastname"
                                                            class="font-weight-bold text-dark">[[#{profile.lName}]]</label>
                                                        <input type="text" class="form-control" name="lastname"
                                                            id="lastname" ng-model="customer.lastName">
                                                    </div>
                                                    <div class="form-group col-md-6">
                                                        <label for="firstname"
                                                            class="font-weight-bold text-dark">[[#{profile.fName}]]</label>
                                                        <input type="text" class="form-control" name="firstname"
                                                            id="firstname" ng-model="customer.firstName">
                                                    </div>
                                                </div>
												<div class="row">
													<div class="form-group col-md-12">
                                                        <label for="fullname"
                                                            class="font-weight-bold text-dark">[[#{profile.fullname}]]</label>
                                                        <input type="text" class="form-control" name="fullname"
                                                            id="fullname" ng-model="customer.fullname">
                                                    </div>
												</div>
                                                <div class="form-group mb-2">
                                                    <label for="email" class="font-weight-bold text-dark">Email</label>
                                                    <input type="email" class="form-control" name="email" id="email" ng-model="customer.email" readonly>
                                                </div>
                                                <div class="form-group mb-2">
                                                    <label for="gender" class="font-weight-bold text-dark">[[#{profile.gender}]]</label>
                                                        <br>
												<div class="col-md-10">
													<div class="form-check form-check-inline mb-2 mt-1">
														<input class="form-check-input" type="radio" id="z1"
															ng-model="customer.gender" ng-value="true" /> <label
															class="" for="z1">[[#{profile.male}]]</label>
													</div>
													<div class="form-check form-check-inline mb-2 mt-1">
														<input class="form-check-input" type="radio" id="z2"
															ng-model="customer.gender" ng-value="false" /> <label
															class="" for="z2">[[#{profile.female}]]</label>
													</div>
												</div>

                                                    <div class="form-group">
                                                        <label for="birthday" class="font-weight-bold text-dark">[[#{profile.birthday}]]</label>
                                                        <div class="form-inline ">
															<input type="date" ng-model="customer.birthday">
                                                        </div>
                                                    </div>
                                                </div>
                                                <button class="btn btn-primary" ng-click="update()">[[#{profile.save}]]</button>
                                            </form>
                                        </div>
                                    </div>
                                </div>
                            </div>

                        </div>
                        
                        <div th:class="|tab-pane fade ${addressPage} show|" id="account-address">
                            <div class="card">
                                <div class="card-body">
                                    <div class="row ">
                                        <div class="col-12">
                                            <div class="clearfix">
                                                <div class="float-left">
                                                    <b>[[#{profile.setAddress}]]</b>
                                                    <h6>[[#{profile.setShip}]]</h6>
                                                </div>
                                                <button class="btn btn-outline-primary float-right shadow-none"
                                                    data-toggle="modal"
                                                    ng-click="addModel()"> <i class="fa fa-location-arrow"></i> [[#{profile.add}]]</button>
                                            </div>
                                            <hr>
                                            <h5 class="mb-4">[[#{profile.ad}]]</h5>
                                        </div>
                                    </div>
                                    <div class="address-man" ng-repeat="list in address">
                                        <div class="row">
                                            <div class="col-12 col-md-6">
                                                <div class="mb-2 d-flex justify-content-start">
                                                	<i class="fa fa-star" ng-if="list.default">[[#{profile.default}]]</i>
                                                </div>
                                                <div class="mb-2 d-flex justify-content-start">
                                                    <h5>{{list.username}} | {{list.phone}} </h5>
                                                </div>
                                                <div class="mb-2 d-flex justify-content-start">
                                                    <h4>{{list.address}} | {{list.cityProvince}}</h4>
                                                </div>
                                            </div>
                                            <div class="col-12 col-md-6 ">
                                                <div class=" d-flex justify-content-end">
                                                    <a href="" class="btn btn-primary mr-2"
                                                        ng-click="updateModel2(list)">[[#{profile.update}]]</a>
                                                    <a href="" class=" btn btn-danger align-middle" ng-click="confirmRemove(list)">                    
                                                        [[#{profile.delete}]]</a>
                                                </div>
                                            </div>
                                        </div>
                                        <hr>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="modal fade" id="addressModal" tabindex="-1" data-backdrop="static"
                                data-keyboard="false" aria-hidden="true">
                                <div class="modal-dialog  modal-lg modal-dialog-scrollable ">
                                    <div class="modal-content ">
                                        <div class="modal-body ">
                                            <div class="container">
                                                <form name="formAddress">
                                                    <div class="row ">
                                                        <div class="form-group col-md-6">
                                                            <label for="lastname"
                                                                class="font-weight-bold text-dark">[[#{profile.name}]]</label>
                                                            <input type="text" class="form-control" name="fullname"
                                                                id="fullname" aria-describedby="fullnameHelp"
                                                                ng-model="form.username" placeholder="Nhập tên" ng-required="true" ng-pattern="/^[a-zA-Z_\\\/.’'-]+(?: +[A-Za-z_\\\/.’'-]+)*$/" ng-trim="false">
                                                            <span class="error text-danger" ng-show="formAddress.fullname.$error.required">
									                            Vui lòng nhập tên
									                        </span>
									                        <span class="error text-danger" ng-show="!formAddress.fullname.$error.required&&formAddress.fullname.$error.pattern">
									                            Vui lòng chỉ nhập chữ và không có ký tự đặc biệt
									                        </span>
                                                        </div>
                                                        <div class="form-group col-md-6 mb-2">
																	<label for="phone" class="font-weight-bold text-dark">[[#{profile.phone}]]</label> 
															<input type="text" class="form-control" name="phone"
                                                                id="phone" aria-describedby="fullnameHelp"
                                                                ng-model="form.phone" maxlength="10" placeholder="Nhập số điện thoại" ng-required="true" ng-pattern="/^\d{10,15}$/" >
                                                            <span class="error text-danger" ng-show="formAddress.phone.$error.required">
									                            Vui lòng nhập số điện thoại
									                        </span>
									                        <span class="error text-danger" ng-show="!formAddress.phone.$error.required&&formAddress.phone.$error.pattern">
									                            Vui lòng chỉ nhập số và phải nhập đủ
									                        </span>
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                    	<div class="form-group col-md-6 mb-2">
                                                            <label for="provice" class="font-weight-bold text-dark">[[#{profile.province}]]</label>
                                                            <input type="text" class="form-control" name="provice"
                                                                id="provice" aria-describedby="fullnameHelp"
                                                                ng-model="form.cityProvince" maxlength="10" placeholder="Nhập thành phố" ng-required="true">
                                                            <span class="error text-danger" ng-show="formAddress.provice.$error.required">
									                            Vui lòng nhập thành phố
									                        </span>
                                                        </div>
                                                        <div class="form-group col-md-6 mb-2">
                                                            <label for="email" class="font-weight-bold text-dark">Email</label>
                                                            <input type="text" class="form-control" name="email"
                                                                id="email" aria-describedby="fullnameHelp"
                                                                ng-model="customer.email" maxlength="10" readonly>
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <div class="form-group col-md-12">
                                                            <label class="font-weight-bold text-dark">[[#{profile.addressFocus}]]</label>
                                                            <textarea class="form-control" placeholder="Địa chỉ cụ thể"
                                                                ng-model="form.address" name="adr" id="adr" ng-required="true"></textarea>
                                                            <span class="error text-danger" ng-show="formAddress.adr.$error.required">
									                            Vui lòng nhập địa chỉ cụ thể
									                        </span>
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                    	<label class="form-check-label mr-3" for="inlineRadio1">Địa chỉ mặc định</label>
                                                    	<div class="form-group col-md-12">
		                                                    <div class="form-check form-check-inline">
											                    <input ng-model="form.default" ng-value="true" ng-required="true" class="form-check-input" type="radio" name="inlineRadioOptions" id="inlineRadio1" value="option1">
											                    <label class="form-check-label" for="inlineRadio1">Mặc định</label>
											                </div>
											                <div class="form-check form-check-inline">
											                    <input ng-model="form.default" ng-value="false" ng-required="true" class="form-check-input" type="radio" name="inlineRadioOptions" id="inlineRadio2" value="option2">
											                    <label class="form-check-label" for="inlineRadio2">Không</label>
											                </div> 
											                <span class="error text-danger" ng-show="formAddress.inlineRadioOptions.$error.required">
									                            Vui lòng chọn kiểu địa chỉ
									                        </span>
											                <input hidden ng-model="form.id"> 
                                                    	</div>
                                                    </div>  
                                                </form>
                                            </div>
                                        </div>
                                        <div class="modal-footer">
                                            <button type="button" class="btn btn-secondary" data-dismiss="modal" ng-click="back()">[[#{profile.back}]]</button>
                                            <button type="button" class="btn btn-primary" data-dismiss="modal" ng-show="add" ng-click="addAddress()">[[#{profile.addAdd}]]</button>
                                            <button type="button" class="btn btn-primary" data-dismiss="modal" ng-show="update" ng-click="updateAddress()">[[#{profile.update}]]</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        </div>
        </div>
        
    <!-- Notification -->
    <div class="position-fixed bottom-0 right-0 p-3" style="z-index: 5; right: 0; bottom: 0;">
        <div id="liveToast" class="toast hide" role="alert" aria-live="assertive" aria-atomic="true" data-delay="5000">
            <div class="toast-header">
                <img src="/assets/images/logo.png" class="rounded mr-2" alt="logo" width="30%">
                <strong class="mr-auto">[[#{noti.notification}]] SUNFOOD</strong>
                <button type="button" class="ml-2 mb-1 close" data-dismiss="toast" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="toast-body">
                <div class="alert alert-success" role="alert" ng-if="message != ''">
                    {{message}}
                </div>
                <div class="alert alert-danger" role="alert" ng-if="error != ''">
                    {{error}}
                </div>
            </div>
        </div>
    </div>
        <!-- Shop End -->                
         <div class="modal" id="addressDel" tabindex="-1">
             <div class="modal-dialog modal-dialog-centered ">
                 <div class="modal-content shadow border-0 rounded">
                     <div class="modal-body text-center ">
                         <i class="fa fa-question-circle-o" style='font-size: 60px;'></i>
                         <p class='py-1'>[[#{profile.delConfirm}]]</p>
                         <div class='d-flex justify-content-end'><button
                                 class='btn btn-outline-primary mr-3'
                                 ng-click="delAddress()" data-dismiss="modal">[[#{profile.yes}]]</button><button
                                 class='btn btn-outline-dark mr-3' data-dismiss='modal'>[[#{profile.back}]]</button></div>
                     </div>
                 </div>
             </div>
         </div>   
    </div>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-A3rJD856KowSb7dwlZdYEkO39Gagi7vIsF0jrRAoQmDKKtQBHUuLZ9AsSv4jD4Xa"
        crossorigin="anonymous"></script>
</body>
</html>
