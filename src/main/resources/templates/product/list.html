<!doctype html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" th:replace="~{/layout/index::dynamic(~{::#main})}">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Bootstrap demo</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx" crossorigin="anonymous">
</head>
<body>
<div id="main">
    <div th:replace="~{/layout/_menu::hero-normal-section}"></div>
    <!-- Breadcrumb Section Begin -->
    <section class="breadcrumb-section set-bg p-3" style="background-color: #9BCA3C;">
        <div class="container">
            <div class="row">
                <div class="col-lg-12 text-center">
                    <div class="breadcrumb__text" style="font-size: 20px;">
                        <a th:href="@{/home/index}"><i class="fa fa-home" aria-hidden="true"></i> [[#{productl.home}]]</a>
                        <i class="fa fa-chevron-right" aria-hidden="true"></i>
                        <span>[[#{productl.shop}]]</span>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!-- Breadcrumb Section End -->

    <!-- Product Section Begin -->
    <section class="product spad">
        <div class="container">
            <div class="row">
                <div class="col-lg-3 col-md-5">
                    <div class="sidebar">
                        <div class="sidebar__item">
                            <h4>[[#{productl.cate}]]</h4>
                            <ul>
								<li><a href="/food/all"
									th:style="${cid} ==''?'color:#7fad39;':''">All</a></li>
								<li th:each="c:${cates}"><a th:href="@{|/food/${c.name}|}"
									th:style="${c.name==cid?'color:#7fad39;':''}"
									th:if="${c.isDisplay}">[[${c.name}]] </a></li>
							</ul>
                        </div>
                        <div class="sidebar__item">
                            <h4>[[#{productl.price}]]</h4>
                            <div class="price-range-wrap">
                                <div class="price-range ui-slider ui-corner-all ui-slider-horizontal ui-widget ui-widget-content"
                                     data-min="10" data-max="540">
                                    <div class="ui-slider-range ui-corner-all ui-widget-header"></div>
                                    <span tabindex="0" class="ui-slider-handle ui-corner-all ui-state-default"></span>
                                    <span tabindex="0" class="ui-slider-handle ui-corner-all ui-state-default"></span>
                                </div>
                                <div class="range-slider">
                                    <div class="price-input">
                                        <input type="text" id="minamount">
                                        <input type="text" id="maxamount">
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="sidebar__item sidebar__item__color--option">
                            <h4>[[#{productl.colors}]]</h4>
                            <div class="sidebar__item__color sidebar__item__color--white">
                                <label for="white">
                                    [[#{productl.white}]]
                                    <input type="radio" id="white">
                                </label>
                            </div>
                            <div class="sidebar__item__color sidebar__item__color--gray">
                                <label for="gray">
                                    [[#{productl.gray}]]
                                    <input type="radio" id="gray">
                                </label>
                            </div>
                            <div class="sidebar__item__color sidebar__item__color--red">
                                <label for="red">
                                    [[#{productl.red}]]
                                    <input type="radio" id="red">
                                </label>
                            </div>
                            <div class="sidebar__item__color sidebar__item__color--black">
                                <label for="black">
                                    [[#{productl.black}]]
                                    <input type="radio" id="black">
                                </label>
                            </div>
                            <div class="sidebar__item__color sidebar__item__color--blue">
                                <label for="blue">
                                    [[#{productl.blue}]]
                                    <input type="radio" id="blue">
                                </label>
                            </div>
                            <div class="sidebar__item__color sidebar__item__color--green">
                                <label for="green">
                                    [[#{productl.green}]]
                                    <input type="radio" id="green">
                                </label>
                            </div>
                        </div>
                        <div class="sidebar__item">
                            <h4>[[#{productl.popular}]]</h4>
                            <div class="sidebar__item__size">
                                <label for="large">
                                    [[#{productl.large}]]
                                    <input type="radio" id="large">
                                </label>
                            </div>
                            <div class="sidebar__item__size">
                                <label for="medium">
                                    [[#{productl.medium}]]
                                    <input type="radio" id="medium">
                                </label>
                            </div>
                            <div class="sidebar__item__size">
                                <label for="small">
                                    [[#{productl.small}]]
                                    <input type="radio" id="small">
                                </label>
                            </div>
                            <div class="sidebar__item__size">
                                <label for="tiny">
                                    [[#{productl.tiny}]]
                                    <input type="radio" id="tiny">
                                </label>
                            </div>
                        </div>
                        <div class="sidebar__item">
                            <div class="latest-product__text">
                                <h4>[[#{productl.lastest}]]</h4>
                                <div class="latest-product__slider owl-carousel">
                                    <div class="latest-prdouct__slider__item">
                                        <a th:each="item, iState : ${listTop}" th:if="${iState.index} < 3" href="#" class="latest-product__item">
                                            <div class="latest-product__item__pic">
                                                <img th:src="@{|${item.image}|}" th:alt="${item.getName()}" style="width: 120px">
                                            </div>
                                            <div class="latest-product__item__text">
                                                <h6 style=" overflow: hidden;display: -webkit-box; -webkit-line-clamp: 2; line-clamp: 2; -webkit-box-orient: vertical;">
                                                    [[${item.name}]]
                                                </h6>
                                                <span>đ [[${#numbers.formatDecimal(item.price, 0, 'COMMA', 2, 'POINT')}]]</span>
                                            </div>
                                        </a>
                                    </div>
                                    <div class="latest-prdouct__slider__item">
                                        <a th:each="item, iState : ${listTop}" th:unless="${iState.index < 3 or iState.index >= 6}" href="#" class="latest-product__item">
                                            <div class="latest-product__item__pic">
                                                <img th:src="@{|${item.image}|}" th:alt="${item.getName()}" style="width: 120px">
                                            </div>
                                            <div class="latest-product__item__text">
                                                <h6 style=" overflow: hidden;display: -webkit-box; -webkit-line-clamp: 2; line-clamp: 2; -webkit-box-orient: vertical;">
                                                    [[${item.name}]]
                                                </h6>
                                                <span>đ [[${#numbers.formatDecimal(item.price, 0, 'COMMA', 2, 'POINT')}]]</span>
                                            </div>
                                        </a>
                                    </div>
                                    <div class="latest-prdouct__slider__item">
                                        <a th:each="item, iState : ${listTop}" th:if="${iState.index} >= 6" href="#" class="latest-product__item">
                                            <div class="latest-product__item__pic">
                                                <img th:src="@{|${item.image}|}" th:alt="${item.getName()}" style="width: 120px">
                                            </div>
                                            <div class="latest-product__item__text">
                                                <h6 style=" overflow: hidden;display: -webkit-box; -webkit-line-clamp: 2; line-clamp: 2; -webkit-box-orient: vertical;">
                                                    [[${item.name}]]
                                                </h6>
                                                <span>đ [[${#numbers.formatDecimal(item.price, 0, 'COMMA', 2, 'POINT')}]]</span>
                                            </div>
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-lg-9 col-md-7">
                    <div class="product__discount">
                        <div class="section-title product__discount__title">
                            <h2>[[#{productl.sale}]]</h2>
                        </div>
                        <div class="row">
                            <div class="product__discount__slider owl-carousel">
                                <div th:each="item : ${listSale}" class="col-lg-4">
                                    <div class="product__discount__item">
                                        <div class="product__discount__item__pic set-bg"
                                             th:data-setbg="@{|${item.image}|}">
                                            <div class="product__discount__percent">-[[${item.percentDiscount}]]%</div>
                                            <ul class="product__item__pic__hover">
                                                <li><a href="#"><i class="fa fa-heart"></i></a></li>
                                                <li><a href="#"><i class="fa fa-retweet"></i></a></li>
                                                <li>
                                                    <a th:unless="${#request.remoteUser}" th:attr="ng-click=@{|cart.add(${item.id})|}"><i class="fa fa-shopping-cart"></i></a>
                                                    <a th:if="${#request.remoteUser}" th:attr="ng-click=@{|cart.addToCart(${item.id})|}"><i class="fa fa-shopping-cart"></i></a>
                                                </li>
                                            </ul>
                                        </div>
                                        <div class="product__discount__item__text">
                                            <span>[[${item.category}]]</span>
                                            <h5><a th:href="@{|/food/detail/${item.id}|}">[[${item.name}]]</a></h5>
                                            <div class="product__item__price">
                                                <p class="product__item__price text-danger d-inline">đ [[${#numbers.formatDecimal(item.priceNew, 0, 'COMMA', 2, 'POINT')}]]</p>
                                                <span>đ [[${#numbers.formatDecimal(item.priceOld, 0, 'COMMA', 2, 'POINT')}]]</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="filter__item">
                        <div class="row">
                            <div class="col-lg-4 col-md-5">
                                <div class="filter__sort">
									<form method="get" th:action="@{|/food/${cid==''?'all':cid}|}">
										<span>Sort By</span> <input type="hidden" name="price_min"
											th:value="${price_min}"> <input type="hidden"
											name="price_max" th:value="${price_max}"> <input
											type="hidden" name="size" th:value="${size}"> <select
											name="sortBy" onchange="this.form.submit()">
											<option href="#id_name" th:each="sb : ${sortList}" th:value="${sb.value}"
												th:selected="${sortBy==sb.value}">[[${sb.key}]]</option>
										</select>
									</form>
								</div>
                            </div>
                            <div class="col-lg-4 col-md-4">
                                <div class="filter__sort">
									<form method="get" class="colorlib-form-2" th:action="@{|/food/${cid==''?'all':cid}|}">
										<span>View size</span>
                                            <input type="hidden" name="price_min" th:value="${price_min}">
											<input type="hidden" name="price_max" th:value="${price_max}">
											<input type="hidden" name="sortBy" th:value="${sortBy}">
                                                <i class="icon icon-arrow-down3"></i>
	                                                <select name="size" onchange="this.form.submit()" id="people" class="form-control">
								                        <option th:selected="${size==6}" value="6">6</option>
								                        <option th:selected="${size==9}" value="9">9</option>
								                        <option th:selected="${size==12}" value="12">12</option>
								                        <option th:selected="${size==15}" value="15">15</option>
								                      </select>
			                           </form>
								</div>
                            </div>
                            <div class="col-lg-4 col-md-3">
                                <div class="filter__option">
                                    <span class="icon_grid-2x2"></span>
                                    <span class="icon_ul"></span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div th:each="item,state:${items.content}" class="col-lg-4 col-md-6 col-sm-6">
                            <div class="product__discount__item mb-5">
                                <div class="product__discount__item__pic set-bg">
                                    <img class="card-img" th-src="@{|${item.image}|}" th-alt="{{item.name}}" style="height: 300px">
                                    <div ng-if="item.percentDiscount != null && item.numberDateToEnd > 0" class="product__discount__percent">-{{item.percentDiscount}}%</div>
                                    <ul class="product__item__pic__hover">
                                        <li><a href="#"><i class="fa fa-heart"></i></a></li>
                                        <li><a href="#"><i class="fa fa-retweet"></i></a></li>
                                        <li>
                                            <a th:unless="${#request.remoteUser}" ng-click="cart.add(item.id)" style="cursor: pointer">
                                                <i class="fa fa-shopping-cart"></i>
                                            </a>
                                            <a th:if="${#request.remoteUser}" ng-click="cart.addToCart(item.id)" style="cursor: pointer">
                                                <i class="fa fa-shopping-cart"></i>
                                            </a>
                                        </li>
                                    </ul>
                                </div>
                                <div class="product__discount__item__text">
                                    <h5><a th:href="@{|/food/detail/${item.id}|}">[[${item.name}]]</a></h5>
                                    <div class="product__item__price">
                             			<p class="product__item__price text-danger d-inline">[[${item.price}]]</p>
<!--                                         <p class="product__item__price text-danger d-inline">{{item.priceNew | currency:'₫ '}}</p> -->
<!--                                         <span ng-if="item.priceNew < item.priceOld">{{item.priceOld | currency:'₫ '}} </span> -->
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="product__pagination text-center">
                        <a th:each="p : ${#numbers.sequence(1, items.totalPages, 1)}" th:style="${items.number+1==p?'background:#7fad39;color:white':''}" th:href="@{|/food/${cid==''?'all':cid}?page=${p}&sortBy=${sortBy}&price_min=${price_min}&price_max=${price_max}|}">[[${p}]]</a>
					</div>
                </div>
            </div>
        </div>
    </section>
    <!-- Product Section End -->
</div>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-A3rJD856KowSb7dwlZdYEkO39Gagi7vIsF0jrRAoQmDKKtQBHUuLZ9AsSv4jD4Xa"
        crossorigin="anonymous"></script>
</body>
</html>
