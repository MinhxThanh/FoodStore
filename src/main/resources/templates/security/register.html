<!doctype html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" th:replace="~{/layout/index::dynamic(~{::#main})}">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Bootstrap demo</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx" crossorigin="anonymous">
</head>

<body>
<div class="container">
    <div id="main">
        <div class="py-5" style="margin-bottom: 100px;">
            <div class="col-lg-5 col-sm-11 p-5 m-auto shadow"
                 style="background: rgba(255, 255, 255, 0.708); border-radius: 30px;">
                <h2 class="text-center my-4 text-uppercase">Register</h2>
                <!-- message-->
                <div class="alert alert-success" role="alert" th:if="${message}">
                    <i>[[${message}]]</i>
                </div>
                <div class="alert alert-danger" role="alert" th:if="${error}">
                    <i>[[${error}]]</i>
                </div>
                <form th:action="@{/security/register}" method="post" th:object="${registerCustomer}" name="formRegister"
                      class="container col-10">
                    <div class="mb-3">
                        <input th:field="*{email}" name="email" ng-model="email" ng-pattern="/^\S+@\S+\.\S+$/"
                               ng-required="true" class="form-control p-2 px-3 rounded-pill" type="text"
                               placeholder="Email.." style="background: none !important;">
                        <span class="error text-danger" ng-show="formRegister.email.$error.required">
                            Please enter email!
                        </span>
                        <span class="error text-danger" ng-show="!formRegister.email.$error.required&&formRegister.email.$error.pattern">
                            Please enter email correctly!
                        </span>
                    </div>
                    <div class="mb-3 row">
                        <div class="col-lg-6 col-sm-12">
                            <input th:field="*{firstName}" name="username" ng-model="firstName" ng-required="true"
                                   ng-minlength="2" class="form-control p-2 px-3 rounded-pill" type="text"
                                   placeholder="First Name" style="background: none !important;">
                            <span class="error text-danger" ng-show="formRegister.firstName.$error.required">
                                Please enter your first name!
                            </span>
                            <span class="error text-danger" ng-show="formRegister.firstName.$error.minlength">
                                Enter first name has length more than 2!
                            </span>
                        </div>
                        <div class="col-lg-6 col-sm-12">
                            <input th:field="*{lastName}" name="lastName" ng-model="lastName" ng-required="true"
                                   ng-minlength="2" class="form-control p-2 px-3 rounded-pill" type="text"
                                   placeholder="Last Name" style="background: none !important;">
                            <span class="error text-danger" ng-show="formRegister.lastName.$error.required">
                                Please enter your last name!
                            </span>
                            <span class="error text-danger" ng-show="formRegister.lastName.$error.minlength">
                                Enter last name has length more than 2!
                            </span>
                        </div>
                    </div>
                    <div class="mb-3">
                        <input th:field="*{password}" name="password" ng-model="password" ng-minlength="5"
                               ng-required="true"
                               class="form-control p-2 px-3 rounded-pill" type="password" placeholder="Password"
                               style="background: none !important;">
                        <span class="error text-danger" ng-show="formRegister.password.$error.required">
                            Please enter password!
                        </span>
                        <span class="error text-danger" ng-show="formRegister.password.$error.minlength">
                            Enter password have length more than 5!
                        </span>
                    </div>
                    <div class="mb-3">
                        <input th:field="*{passwordConfirm}" ng-model="passwordConfirm" compare-to="password"
                               name="confirmPassword" ng-required="true" class="form-control p-2 px-3 rounded-pill"
                               type="password" placeholder="Password Confirm" style="background: none !important;">
                        <span class="error text-danger"
                              ng-show="formRegister.confirmPassword.$error.required">
                            Please enter password confirm!
                        </span>
                        <span class="error text-danger d-block" ng-show="formRegister.confirmPassword.$error.compareTo">
                            Passwords don't match!
                        </span>
                    </div>
                    <div class="mb-3 px-4" style="background: none;">
                        <input class="form-check-input" name="check" ng-model="check" ng-required="true" type="checkbox"
                               value="1" id="passwordCheck">
                        <label class="form-check-label" for="passwordCheck">
                            I accept the <a href="#">term service</a>.
                        </label>
                        <span class="error text-danger" ng-show="formRegister.check.$dirty"></span>
                    </div>
                    <div class="text-center">
                        <button ng-disabled="formRegister.$invalid" type="submit"
                                class="btn btn-outline-primary w-100 py-2 rounded-pill fw-bold text-uppercase">
                            Register
                        </button>
                        <a href="#" class="mt-2 mb-4 text-muted">Have account? Sign In Here!</a>
                        <a th:href="@{/oauth2/authorization/google}" class="btn btn-outline-danger text-uppercase fw-bold w-100 mt-4 rounded-pill py-2" type="submit">
                            <i class="fa fa-google" aria-hidden="true"></i> Sign in with Google
                        </a>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-A3rJD856KowSb7dwlZdYEkO39Gagi7vIsF0jrRAoQmDKKtQBHUuLZ9AsSv4jD4Xa" crossorigin="anonymous">
</script>
</body>

</html>